---
## Front matter
lang: ru-RU
title: Доклад
subtitle: Ошибки проверки вводимых данных - инъекция кода

author:
  - Камкина А. Л.
institute:
  - Российский университет дружбы народов, Москва, Россия

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Камкина Арина Леонидовна
  * студентка группы НКНбд-01-21
  * Российский университет дружбы народов
  * [1032216456@pfur.ru](mailto:1032216456@rudn.ru)
  * <https://alkamkina.github.io/ru/>

:::
::: {.column width="25%"}

![](./image/me.jpg)

:::
::::::::::::::


# Вводная часть

**SQL-инъекция** (SQLi) — это одна из наиболее распространенных уязвимостей веб-приложений, позволяющая злоумышленникам манипулировать базами данных через внедрение вредоносного SQL-кода в запросы. Эта проблема возникает, когда вводимые пользователями данные не фильтруются должным образом, что может привести к утечке конфиденциальной информации или даже полному разрушению базы данных.

---

## Что это такое

**SQL-инъекция**  -  метод атаки, при котором злоумышленник внедряет SQL-код в запросы, отправляемые к серверу базы данных.

## Для чего

- Извлечение данных из базы данных.
- Изменение или удаление данных.
- Выполнение произвольных команд на сервере базы данных.

---

# Как происходят атаки на основе SQL-инъекции

Атака SQL-инъекцией может быть реализована несколькими способами:

**1. Внутриполосная атака (In-band SQLi)**

Использует один и тот же канал для получения результатов. Существует два подвида:

- **Атака на основе ошибок**: Злоумышленник вызывает ошибку базы данных, чтобы получить информацию о ее структуре.
- **Атака на основе объединения**: Использует оператор UNION для объединения результатов нескольких запросов.

**2. Инференциальная атака (Blind SQLi)**

Злоумышленник не видит результаты запроса, но может делать выводы на основе поведения приложения. Например, если приложение возвращает разные сообщения об ошибках в зависимости от того, существует ли запись в базе данных.

**3. Сложные атаки**

Включают использование нескольких команд в одном запросе, что позволяет выполнять сложные операции с базой данных. Например, злоумышленник может использовать подзапросы или временные таблицы для достижения своих целей.

---

# Примеры

> SELECT * FROM users WHERE username = 'admin' --';

Здесь символ $--$ игнорирует остальную часть запроса, что позволяет злоумышленнику обойти проверку пароля и получить доступ к учетной записи администратора.

Извлечение данных:
> ' OR '1'='1

Этот код всегда будет возвращать истинное значение и позволит злоумышленнику получить доступ ко всем записям.

Удаление данных:
> '; DROP TABLE users; --

Этот код приведет к удалению таблицы users, что может вызвать серьезные последствия для приложения.

---

# Причины уязвимости

Основные причины возникновения уязвимостей SQL-инъекций включают:

- Динамическое построение SQL-запросов: Неправильное использование пользовательских данных в запросах без фильтрации.
- Небезопасная конфигурация СУБД: Учетные записи с избыточными правами могут выполнять непредусмотренные команды.
- Недостаток обучения разработчиков: Многие разработчики не знакомы с основами безопасности и лучшими практиками защиты от атак.

---

# Защита от SQL-инъекций
Для защиты от SQL-инъекций рекомендуется использовать следующие методы:

1. **Параметризация запросов**
Использование подготовленных выражений для предотвращения внедрения вредоносного кода. Например, вместо динамического построения запроса:
> SELECT * FROM users WHERE username = '$username';

Следует использовать подготовленный запрос:
> $stmt = $pdo->prepare('SELECT * FROM users WHERE username = :username');
> $stmt->execute(['username' => $username]);

2. **Фильтрация входных данных**
Проверка и очистка всех пользовательских данных перед их использованием в запросах. Это включает в себя удаление или экранирование специальных символов.

3. **Минимизация привилегий**
Учетные записи базы данных должны иметь минимальные необходимые права доступа. Например, учетная запись, используемая приложением, не должна иметь прав на удаление таблиц или изменение структуры базы данных.

4. **Регулярные обновления и патчи**
Поддержание актуальности программного обеспечения и систем управления базами данных помогает закрыть известные уязвимости.

5. **Использование веб-файрволов**
Веб-файрволы могут помочь в обнаружении и блокировке подозрительных запросов до того, как они достигнут приложения.

---

# Заключение

**SQL-инъекции** представляют собой серьезную угрозу для безопасности веб-приложений. Понимание механизмов этих атак и применение эффективных методов защиты могут значительно снизить риск компрометации данных. Важно, чтобы разработчики и администраторы систем уделяли внимание безопасности своих приложений и регулярно обновляли свои знания о новых методах защиты.